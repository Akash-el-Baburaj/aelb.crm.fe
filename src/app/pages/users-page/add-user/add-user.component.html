<!-- Breadcrumb -->
<div class="breadcrumb-card mb-25 d-md-flex align-items-center justify-content-between">
    <h5 class="mb-0">
        {{isEdit ? 'Edit User' : 'Add User'}}
    </h5>
    <ol class="breadcrumb list-unstyled mt-0 mb-0 pl-0">
        <li class="breadcrumb-item position-relative">
            <a routerLink="/" class="d-inline-block position-relative">
                <i class="ri-home-8-line"></i>
                Dashboard
            </a>
        </li>
        <li class="breadcrumb-item position-relative">
            Users
        </li>
        <li class="breadcrumb-item position-relative">
            {{isEdit ? 'Edit User' : 'Add User'}}
        </li>
    </ol>
</div>

<!-- Add User -->
<form [formGroup]="userForm" (ngSubmit)="onSubmit()">
    <div class="row">
        <div class="col-xxl-7 col-xxxl-8">
            <mat-card
                class="daxa-card add-user-card mb-25 border-radius bg-white border-none d-block"
                [class.rtl-enabled]="themeService.isRTLEnabled()"
            >
                <mat-card-header>
                    <mat-card-title>
                        <h5 class="mb-0">
                            Add User
                        </h5>
                    </mat-card-title>
                </mat-card-header>
                <mat-card-content>
                    <div class="row">
                        <!-- <div class="col-sm-6">
                            <div class="mb-25">
                                <label class="main-label d-block lh-1 text-black">
                                    User ID
                                </label>
                                <mat-form-field>
                                    <mat-label>
                                        User ID
                                    </mat-label>
                                    <input matInput>
                                </mat-form-field>
                            </div>
                        </div> -->
                        <div class="col-sm-6">
                            <div class="mb-25">
                                <label class="main-label d-block lh-1 text-black">
                                    User Name
                                </label>
                                <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>User Name</mat-label>
                                    <input matInput formControlName="userName" placeholder="User name">
                                    <mat-error *ngIf="userForm.get('userName')?.hasError('required')">
                                      User name is required
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="mb-25">
                                <label class="main-label d-block lh-1 text-black">
                                    Email Address
                                </label>
                                <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>Email</mat-label>
                                    <input matInput formControlName="email" placeholder="Email address">
                                    <mat-error *ngIf="userForm.get('email')?.hasError('required')">
                                      Email is required
                                    </mat-error>
                                    <mat-error *ngIf="userForm.get('email')?.hasError('email')">
                                      Enter a valid email
                                    </mat-error>
                                  </mat-form-field>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="mb-25">
                                <label class="main-label d-block lh-1 text-black">
                                    Phone No
                                </label>
                                <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>Phone No</mat-label>
                                    <input matInput formControlName="phone" placeholder="Phone number">
                                    <mat-error *ngIf="userForm.get('phone')?.hasError('required')">
                                      Phone is required
                                    </mat-error>
                                  </mat-form-field>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="mb-25">
                                <label class="main-label d-block lh-1 text-black">
                                    Designation
                                </label>
                                <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>Designation</mat-label>
                                    <input matInput formControlName="designation" placeholder="Designation">
                                    <mat-error *ngIf="userForm.get('designation')?.hasError('required')">
                                      Designation is required
                                    </mat-error>
                                  </mat-form-field>
                            </div>
                        </div>                
    
                        <!-- <div class="col-sm-6">
                            <div class="mb-25">
                                <label class="main-label d-block lh-1 text-black">
                                    Teams
                                </label>
                                <mat-form-field>
                                    <mat-label>
                                        Select
                                    </mat-label>
                                    <mat-select multiple>
                                        <mat-option value="option1">
                                            Team 1
                                        </mat-option>
                                        <mat-option value="option2">
                                            Team 2
                                        </mat-option>
                                        <mat-option value="option3">
                                            Team 3
                                        </mat-option>
                                        <mat-option value="option4">
                                            Team 4
                                        </mat-option>
                                        <mat-option value="option5">
                                            Team 5
                                        </mat-option>
                                        <mat-option value="option6">
                                            Team 6
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div> -->
                        <!-- <div class="col-sm-12">
                            <div class="mb-25">
                                <label class="main-label d-block lh-1 text-black">
                                    Add Some Info
                                </label>
                                <mat-form-field class="textarea">
                                    <mat-label>
                                        Write your description
                                    </mat-label>
                                    <textarea matInput placeholder="E.g. It makes me feel..."></textarea>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="mb-25">
                                <label class="main-label d-block lh-1 text-black">
                                    Facebook
                                </label>
                                <mat-form-field>
                                    <mat-label>
                                        Facebook
                                    </mat-label>
                                    <input matInput placeholder="facebook@example.com">
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="mb-25">
                                <label class="main-label d-block lh-1 text-black">
                                    Twitter
                                </label>
                                <mat-form-field>
                                    <mat-label>
                                        Twitter
                                    </mat-label>
                                    <input matInput placeholder="twitter@example.com">
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="mb-25">
                                <label class="main-label d-block lh-1 text-black">
                                    Linkedin
                                </label>
                                <mat-form-field>
                                    <mat-label>
                                        Linkedin
                                    </mat-label>
                                    <input matInput placeholder="linkedin@example.com">
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="mb-25">
                                <label class="main-label d-block lh-1 text-black">
                                    YouTube
                                </label>
                                <mat-form-field>
                                    <mat-label>
                                        YouTube
                                    </mat-label>
                                    <input matInput placeholder="youtube@example.com">
                                </mat-form-field>
                            </div>
                        </div> -->
                        <div class="col-sm-12">
                            <div class="mb-25">
                                <label class="main-label d-block lh-1 text-black">
                                    Customer Image
                                </label>
                                <!-- <file-upload class="file-uploader" [multiple]="multiple"></file-upload> -->
                                <file-upload
                                class="file-uploader"
                                [multiple]="false"
                                [(ngModel)]="image"
                                [ngModelOptions]="{standalone: true}"
                                (ngModelChange)="onFileSelected($event)">
                              </file-upload>
                            </div>
                        </div>
                        <div *ngIf="base64Image">
                            <p>Preview:</p>
                            <img [src]="base64Image" style="max-width: 100px;" />
                          </div>
                    </div>
                    
                </mat-card-content>
            </mat-card>
        </div>
        <div class="col-xxl-5 col-xxxl-4">
            <mat-card
                class="daxa-card add-user-card mb-25 border-radius bg-white border-none d-block"
                [class.rtl-enabled]="themeService.isRTLEnabled()"
            >
                <mat-card-header>
                    <mat-card-title>
                        <h5 class="mb-0">
                            User Setting
                        </h5>
                    </mat-card-title>
                </mat-card-header>
                <mat-card-content>
                    <div class="mb-25 row">
                        <div class="col-sm-12">
                            <div class="mb-25">
                                <label class="main-label d-block lh-1 text-black">
                                    Password
                                </label>
                                <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>Password</mat-label>
                                    <input matInput [type]="showPassword ? 'text' : 'password'" formControlName="password" placeholder="Password">
                                    <mat-error *ngIf="userForm.get('password')?.hasError('required')">
                                      Password is required
                                    </mat-error>
                                    <mat-error *ngIf="userForm.get('password')?.hasError('minlength')">
                                      Minimum 8 characters
                                    </mat-error>
                                    <mat-error *ngIf="userForm.get('password')?.hasError('pattern')">
                                      Must include 1 uppercase, 1 number, 1 special character
                                    </mat-error>
                                  </mat-form-field>
                            
                                  <mat-checkbox (change)="togglePasswordVisibility()">Show Password</mat-checkbox>                            
                            </div>
                        </div>
                        <div class="col-sm-12">
                            <div class="mb-25">
                                <label class="main-label d-block lh-1 text-black">
                                    Confirm Password
                                </label>
                                <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>Confirm Password</mat-label>
                                    <input matInput [type]="showPassword ? 'text' : 'password'" formControlName="confirmPassword" placeholder="Confirm Password">
                                    <mat-error *ngIf="userForm.get('confirmPassword')?.hasError('required')">
                                      Confirm password is required
                                    </mat-error>
                                    <mat-error *ngIf="userForm.hasError('mismatch')">
                                      Passwords do not match
                                    </mat-error>
                                  </mat-form-field>
                            </div>
                        </div>
    
                        <div class="col-sm-6">
                            <div class="mb-25">
                                <label class="main-label d-block lh-1 text-black">
                                    Role
                                </label>
                                <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>Role</mat-label>
                                    <mat-select formControlName="role">
                                      <mat-option value="admin">Admin</mat-option>
                                      <mat-option value="user">User</mat-option>
                                    </mat-select>
                                    <mat-error *ngIf="userForm.get('role')?.hasError('required')">
                                      Role is required
                                    </mat-error>
                                  </mat-form-field>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="mb-25">
                                <label class="main-label d-block lh-1 text-black">
                                    Status
                                </label>
                                <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>Status</mat-label>
                                    <mat-select formControlName="status">
                                      <mat-option value="active">Active</mat-option>
                                      <mat-option value="inactive">Inactive</mat-option>
                                    </mat-select>
                                    <mat-error *ngIf="userForm.get('role')?.hasError('required')">
                                      Role is required
                                    </mat-error>
                                  </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div class="btn-box d-flex justify-content-end">
                        <button mat-button (click)="cancel()">
                            Cancel
                        </button>
                        <button mat-button type="submit">
                            {{ isEdit ? 'Update User' : 'Add User' }}
                        </button>
                    </div>
                    <!-- <label class="main-label d-block lh-1 text-black">
                        Select Your Skills
                    </label>
                    <mat-form-field>
                        <mat-label>
                            Select
                        </mat-label>
                        <mat-select>
                            <mat-option value="option1">
                                Leadership
                            </mat-option>
                            <mat-option value="option2">
                                Project Management
                            </mat-option>
                            <mat-option value="option3">
                                Data Analysis
                            </mat-option>
                            <mat-option value="option4">
                                Teamwork
                            </mat-option>
                            <mat-option value="option5">
                                Web Development
                            </mat-option>
                        </mat-select>
                    </mat-form-field> -->
                </mat-card-content>
            </mat-card>
        </div>
    </div>
</form>

