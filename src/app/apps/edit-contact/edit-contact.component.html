<!-- Breadcrumb -->
<div class="breadcrumb-card mb-25 d-md-flex align-items-center justify-content-between">
    <h5 class="mb-0">
        Edit Customer
    </h5>
    <ol class="breadcrumb list-unstyled mt-0 mb-0 pl-0">
        <li class="breadcrumb-item position-relative">
            <a routerLink="/" class="d-inline-block position-relative">
                <i class="ri-home-8-line"></i>
                Dashboard
            </a>
        </li>
        <li class="breadcrumb-item position-relative">
            CRM
        </li>
        <li class="breadcrumb-item position-relative">
            Edit Customer
        </li>
    </ol>
</div>

<!-- Edit Customer -->
<mat-card class="daxa-card edit-contact-card mb-25 border-radius bg-white border-none d-block">
    <mat-card-content>
        <form [formGroup]="customerForm" (ngSubmit)="onSubmit()">
            <div class="row">
                <div class="col-md-4 col-sm-6">
                    <div class="mb-25">
                        <label class="main-label d-block lh-1 text-black">Name <span class="text-danger">*</span></label>
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-label>Enter customer name</mat-label>
                            <input matInput formControlName="name" required>
                        </mat-form-field>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="mb-25">
                        <label class="main-label d-block lh-1 text-black">Email <span class="text-danger">*</span></label>
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-label>Enter email address</mat-label>
                            <input matInput formControlName="email" required>
                        </mat-form-field>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="mb-25">
                        <label class="main-label d-block lh-1 text-black">Phone <span class="text-danger">*</span></label>
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-label>Enter phone number</mat-label>
                            <input matInput formControlName="phone" required>
                        </mat-form-field>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="mb-25">
                        <label class="main-label d-block lh-1 text-black">Company</label>
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-label>Enter company</mat-label>
                            <input matInput formControlName="company">
                        </mat-form-field>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="mb-25">
                        <label class="main-label d-block lh-1 text-black">Status <span class="text-danger">*</span></label>
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-label>Select status</mat-label>
                            <mat-select formControlName="status" required>
                                <mat-option *ngFor="let s of statusOptions" [value]="s.value">{{s.label}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="mb-25">
                        <label class="main-label d-block lh-1 text-black">Product/Service Price <span class="text-danger">*</span></label>
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-label>Enter price</mat-label>
                            <input matInput type="number" formControlName="productOrServicePrice" required>
                        </mat-form-field>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="mb-25">
                        <label class="main-label d-block lh-1 text-black">Paid Amount <span class="text-danger">*</span></label>
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-label>Enter paid amount</mat-label>
                            <input matInput type="number" formControlName="paidAmount" required>
                        </mat-form-field>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="mb-25">
                        <label class="main-label d-block lh-1 text-black">Balance Amount <span class="text-danger">*</span></label>
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-label>Enter balance amount</mat-label>
                            <input matInput type="number" formControlName="balanceAmount" required>
                        </mat-form-field>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="mb-25">
                        <label class="main-label d-block lh-1 text-black">EMI Count</label>
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-label>Enter EMI count</mat-label>
                            <input matInput type="number" formControlName="EMICount">
                        </mat-form-field>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="mb-25">
                        <label class="main-label d-block lh-1 text-black">Next EMI Payment Date</label>
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-label>Select next EMI payment date</mat-label>
                            <input matInput [matDatepicker]="picker" formControlName="nextEMIPaymentDate">
                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
                        </mat-form-field>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="mb-25">
                        <label class="main-label d-block lh-1 text-black">Next EMI Amount</label>
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-label>Enter next EMI amount</mat-label>
                            <input matInput type="number" formControlName="nextEMIAmount">
                        </mat-form-field>
                    </div>
                </div>
                <div class="col-md-12 col-sm-12">
                    <div class="mb-25">
                        <label class="main-label d-block lh-1 text-black">Customer Image</label>
                        <input type="file" (change)="onFileChange($event)" accept="image/*">
                        <div *ngIf="imageBase64" class="mt-2">
                            <img [src]="imageBase64" alt="Customer Image" style="max-width: 120px; max-height: 120px; border-radius: 8px;">
                        </div>
                    </div>
                </div>
            </div>
            <div class="btn-box">
                <button mat-raised-button color="primary" type="submit" [disabled]="loading || customerForm.invalid">
                    {{ loading ? 'Saving...' : 'Save Changes' }}
                </button>
            </div>
        </form>
    </mat-card-content>
</mat-card>